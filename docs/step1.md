# Step1: プロジェクト仕様

## アプリケーション概要

**アプリケーション名**: TaskFlow - プロジェクト・タスク管理アプリケーション

チームでプロジェクトとタスクを管理するためのWebアプリケーション。プロジェクトの進捗管理、タスクの割り当て、チームメンバーの管理、レポート生成などの機能を提供する。

## 技術スタック

- Next.js 16.1.3
- React 19.2.3
- TypeScript 5.9.3
- Chakra UI 2.8.2
- Emotion (Chakra UIの依存)
- framer-motion 12.27.1
- react-hook-form 7.71.1
- react-icons 5.5.0

## ページ構成（10ページ）

### 1. ダッシュボード（/）
**パス**: `/`

**概要**: アプリケーションのホーム画面。プロジェクトとタスクの概要を表示。

**使用するChakra UIコンポーネント**:
- Box: レイアウトコンテナ
- Flex: カードレイアウト
- Text: 見出しと説明文
- VStack/HStack: 統計カードの配置
- Button: アクションボタン（新規プロジェクト作成など）
- Badge: ステータス表示
- Link: ナビゲーション
- Alert: 通知メッセージ（期限切れタスクなど）

**機能**:
- プロジェクト統計カード（進行中、完了、遅延）
- タスク統計カード（未着手、進行中、完了）
- 最近のアクティビティタイムライン
- 期限が近いタスク一覧
- クイックアクションボタン

**framer-motion**: 統計カードのフェードインアニメーション、ページ遷移

### 2. プロジェクト一覧（/projects）
**パス**: `/projects`

**概要**: すべてのプロジェクトを一覧表示し、管理する。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Table: プロジェクト一覧表示
- Button: 新規作成、アクション
- Badge: プロジェクトステータス
- Avatar: プロジェクトオーナー
- Input: 検索フィールド
- Flex: ヘッダーレイアウト
- Text: テーブル内容
- Tooltip: アイコンボタンの説明
- Menu: アクションメニュー（編集、削除など）

**機能**:
- プロジェクト一覧テーブル（名前、オーナー、進捗、期限、ステータス）
- 検索・フィルター機能
- ソート機能
- 新規プロジェクト作成ボタン
- プロジェクトごとのアクションメニュー

**framer-motion**: テーブル行のホバーエフェクト、リスト項目の追加アニメーション

### 3. プロジェクト詳細（/projects/[id]）
**パス**: `/projects/[id]`

**概要**: 個別プロジェクトの詳細情報と関連タスクを表示。

**使用するChakra UIコンポーネント**:
- Box: レイアウト
- Tabs: タブナビゲーション（概要、タスク、メンバー、設定）
- Text: コンテンツ
- VStack/HStack: レイアウト
- Button: アクション
- Badge: ステータス、タグ
- Avatar: メンバー
- Flex: 配置
- Table: タスク一覧（タブ内）
- Checkbox: タスク完了チェック

**機能**:
- プロジェクト基本情報（名前、説明、期間、進捗率）
- タブ切り替え:
  - 概要: プロジェクトの詳細情報と進捗
  - タスク: プロジェクトに紐づくタスク一覧
  - メンバー: アサインされたメンバー一覧
  - 設定: プロジェクト設定
- プロジェクト編集/削除機能

**framer-motion**: タブコンテンツの切り替えアニメーション

### 4. タスク一覧（/tasks）
**パス**: `/tasks`

**概要**: すべてのタスクを一覧表示し、管理する。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Table: タスク一覧
- Checkbox: タスク完了チェック
- Badge: 優先度、ステータス
- Avatar: 担当者
- Button: 新規作成、アクション
- Input: 検索
- Flex: ヘッダー
- Text: 内容
- Tooltip: 情報表示
- Menu: アクションメニュー

**機能**:
- タスク一覧テーブル（タイトル、プロジェクト、担当者、期限、優先度、ステータス）
- チェックボックスでタスク完了
- フィルター（プロジェクト、担当者、ステータス、優先度）
- ソート機能
- 一括アクション（一括完了、一括削除）

**framer-motion**: チェックボックスアニメーション、行の削除アニメーション

### 5. タスク作成/編集（/tasks/new, /tasks/[id]/edit）
**パス**: `/tasks/new`, `/tasks/[id]/edit`

**概要**: タスクの新規作成または編集フォーム。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- FormControl: フォームフィールド
- Input: タイトル入力
- Textarea: 説明入力
- Radio: 優先度選択（低、中、高、緊急）
- Button: 送信、キャンセル
- VStack: フォームレイアウト
- Text: ラベル
- Flex: ボタン配置
- Alert: バリデーションエラー表示

**機能**:
- タスクタイトル入力
- タスク説明入力（Textarea）
- プロジェクト選択（Select）
- 担当者選択
- 期限設定
- 優先度選択（Radio）
- タグ追加
- フォームバリデーション（react-hook-form）

**framer-motion**: フォームフィールドのフォーカスアニメーション、エラーメッセージの表示アニメーション

### 6. チームメンバー（/team）
**パス**: `/team`

**概要**: チームメンバーの一覧と管理。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Flex: カードレイアウト
- Avatar: メンバー画像
- Text: メンバー情報
- Badge: 役割、ステータス
- Button: アクション
- Menu: メンバーアクションメニュー（編集、削除、権限変更）
- VStack/HStack: レイアウト
- Input: 検索
- Tooltip: 情報表示
- Modal: メンバー追加/編集モーダル

**機能**:
- メンバーカードグリッド（アバター、名前、役割、メール、担当タスク数）
- メンバー検索
- メンバー追加モーダル
- メンバーごとのアクションメニュー
- 役割バッジ表示（管理者、メンバー、ゲスト）

**framer-motion**: カードのホバーアニメーション、モーダルの開閉アニメーション

### 7. カレンダー/スケジュール（/calendar）
**パス**: `/calendar`

**概要**: タスクとプロジェクトの期限をカレンダー形式で表示。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Flex: カレンダーグリッド
- Text: 日付、イベント
- Badge: イベントタイプ
- Button: ナビゲーション（前月、次月）
- Tooltip: イベント詳細
- VStack/HStack: レイアウト
- Modal: イベント詳細モーダル
- Avatar: 担当者

**機能**:
- 月間カレンダービュー
- タスク期限の表示
- プロジェクトマイルストーンの表示
- 月/週の切り替え
- イベントクリックで詳細表示
- 今日の日付ハイライト

**framer-motion**: カレンダーページ切り替えアニメーション、イベントホバーアニメーション

### 8. レポート/分析（/reports）
**パス**: `/reports`

**概要**: プロジェクトとタスクの統計とレポートを表示。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Flex: レイアウト
- Text: データ表示
- VStack/HStack: 統計カード配置
- Button: レポート生成、エクスポート
- Tabs: レポートタイプ切り替え（プロジェクト別、メンバー別、期間別）
- Badge: ステータス
- Table: 詳細データ表示
- Tooltip: データ説明

**機能**:
- タスク完了率の統計
- プロジェクト進捗状況
- メンバー別パフォーマンス
- タブでレポートタイプ切り替え
- データエクスポート機能（CSV、PDF）
- グラフ/チャート表示

**framer-motion**: グラフの描画アニメーション、統計カードのアニメーション

### 9. 設定（/settings）
**パス**: `/settings`

**概要**: アプリケーションとユーザーの設定画面。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Tabs: 設定カテゴリ（一般、通知、セキュリティ、表示）
- FormControl: フォームフィールド
- Input: テキスト入力
- Checkbox: オプション選択
- Radio: 選択肢（テーマ選択など）
- Button: 保存、キャンセル
- VStack: フォームレイアウト
- Text: ラベル、説明
- Flex: レイアウト
- Alert: 設定保存成功メッセージ

**機能**:
- タブで設定カテゴリ切り替え:
  - 一般: 言語、タイムゾーン
  - 通知: メール通知、プッシュ通知のON/OFF（Checkbox）
  - セキュリティ: パスワード変更、二段階認証
  - 表示: テーマ選択（ライト/ダーク - Radio）、デンシティ
- 設定保存機能
- 変更の自動保存または手動保存

**framer-motion**: タブ切り替えアニメーション、保存成功メッセージのアニメーション

### 10. プロフィール（/profile）
**パス**: `/profile`

**概要**: ユーザープロフィールの表示と編集。

**使用するChakra UIコンポーネント**:
- Box: コンテナ
- Avatar: プロフィール画像
- Image: アップロード画像プレビュー
- FormControl: フォームフィールド
- Input: 名前、メール、その他の入力
- Textarea: 自己紹介
- Button: 保存、画像アップロード
- VStack/HStack: レイアウト
- Text: ラベル、情報
- Flex: レイアウト
- Badge: ステータス、実績バッジ
- Alert: 更新成功メッセージ

**機能**:
- プロフィール画像表示と変更
- 基本情報編集（名前、メール、電話番号）
- 自己紹介編集（Textarea）
- パスワード変更リンク
- アカウントステータス表示
- 実績バッジ表示（完了したタスク数など）

**framer-motion**: プロフィール画像のホバーエフェクト、保存ボタンのアニメーション

## 共通レイアウト

### ナビゲーション
- サイドバー（デスクトップ）またはハンバーガーメニュー（モバイル）
- ロゴとアプリケーション名
- メインナビゲーションリンク（全10ページへのリンク）
- ユーザーメニュー（Avatar + Menu: プロフィール、設定、ログアウト）

**framer-motion**: サイドバーの開閉アニメーション

### ヘッダー
- ページタイトル
- パンくずリスト（必要に応じて）
- ページ固有のアクションボタン

## 必須コンポーネント使用箇所まとめ

| コンポーネント | 使用ページ |
|--------------|----------|
| Box | 全ページ（レイアウト） |
| Text | 全ページ |
| Flex | 全ページ（レイアウト） |
| Input | ダッシュボード、プロジェクト一覧、タスク一覧、タスクフォーム、チーム、設定、プロフィール |
| Image | プロフィール |
| Modal | チーム、カレンダー |
| FormControl | タスクフォーム、設定、プロフィール |
| Link | ダッシュボード、サイドバー（全ページ） |
| VStack/HStack | 全ページ |
| Button | 全ページ |
| Alert | ダッシュボード、タスクフォーム、設定、プロフィール |
| Tooltip | プロジェクト一覧、タスク一覧、カレンダー、レポート |
| Table | プロジェクト一覧、プロジェクト詳細、タスク一覧、レポート |
| Tabs | プロジェクト詳細、レポート、設定 |
| Textarea | タスクフォーム、プロフィール |
| Checkbox | プロジェクト詳細、タスク一覧、設定 |
| Radio | タスクフォーム、設定 |
| Menu | プロジェクト一覧、タスク一覧、チーム、ヘッダー（全ページ） |
| Avatar | プロジェクト一覧、プロジェクト詳細、タスク一覧、チーム、カレンダー、プロフィール、ヘッダー |
| Badge | 全ページ（ステータス表示） |

## framer-motion アニメーション使用箇所

1. **ページ遷移アニメーション**: 全ページ間の遷移
2. **サイドバー開閉**: サイドバーのスライドイン/アウト
3. **モーダル開閉**: チームメンバー追加、イベント詳細などのモーダル
4. **カードのフェードイン**: ダッシュボードの統計カード
5. **リスト項目の追加/削除**: プロジェクト一覧、タスク一覧での項目追加時
6. **タブ切り替え**: プロジェクト詳細、レポート、設定でのタブコンテンツ切り替え
7. **ホバーエフェクト**: ボタン、カード、テーブル行のホバー時
8. **フォームアニメーション**: エラーメッセージの表示、フォーカス時のハイライト
9. **グラフ描画**: レポートページでのチャートアニメーション
10. **通知/Alert表示**: Alert コンポーネントの表示/非表示

## データモデル（モックデータ用）

### Project
```typescript
interface Project {
  id: string;
  name: string;
  description: string;
  owner: User;
  members: User[];
  startDate: Date;
  endDate: Date;
  status: 'planning' | 'active' | 'completed' | 'on-hold';
  progress: number; // 0-100
  tags: string[];
}
```

### Task
```typescript
interface Task {
  id: string;
  title: string;
  description: string;
  projectId: string;
  assignee: User | null;
  dueDate: Date;
  priority: 'low' | 'medium' | 'high' | 'urgent';
  status: 'todo' | 'in-progress' | 'completed';
  tags: string[];
  createdAt: Date;
  updatedAt: Date;
}
```

### User
```typescript
interface User {
  id: string;
  name: string;
  email: string;
  avatar: string;
  role: 'admin' | 'member' | 'guest';
  bio?: string;
  phone?: string;
  status: 'active' | 'away' | 'offline';
}
```

## デザイン方針

- **カラースキーム**: Chakra UIのデフォルトテーマをベースに使用
  - プライマリカラー: blue
  - アクセントカラー: teal
  - ステータスカラー:
    - 成功: green
    - 警告: orange
    - エラー: red
    - 情報: blue

- **レスポンシブデザイン**:
  - デスクトップ（1024px以上）
  - タブレット（768px-1023px）
  - モバイル（767px以下）

- **アクセシビリティ**:
  - キーボードナビゲーション対応
  - スクリーンリーダー対応
  - 適切なARIAラベル

## 実装の優先順位

1. 共通レイアウト（サイドバー、ヘッダー）
2. ダッシュボード
3. プロジェクト一覧・詳細
4. タスク一覧・フォーム
5. チームメンバー
6. カレンダー
7. レポート
8. 設定
9. プロフィール
10. アニメーション調整

## 注意事項

- すべてのコンポーネントはChakra UIを使用して実装する
- モックデータを使用し、実際のバックエンドAPI接続は不要
- TypeScriptで型安全に実装する
- react-hook-formを使用してフォームを実装する
- framer-motionを適切に使用してユーザー体験を向上させる
- Next.js 13以降のApp Routerを使用する
- すべての必須コンポーネントを最低1回は使用すること
